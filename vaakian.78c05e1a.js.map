{"version":3,"sources":["src/vaakian.js"],"names":["window","Vaakian","Element","tag","props","children","key","count","length","forEach","child","i","console","log","renderVDOM","vdom","Object","dom","document","createElement","entries","prop","value","setAttribute","append","mount","element","el","arguments"],"mappings":"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","file":"vaakian.78c05e1a.js","sourceRoot":"..","sourcesContent":["window.Vaakian = (function () {\n  // 节点类\n  console.log(\"loading\");\n  function Element(tag, props, children = []) {\n    this.tag = tag;\n    this.props = props;\n    this.children = children;\n    if (props.key) {\n      this.key = this.key;\n    }\n    let count = children.length;\n    children.forEach((child, i) => {\n      if (child instanceof Element) {\n        // 是DOM节点，统计个数\n        count += child.count;\n      } else {\n        // 否则直接转换为字符串，当作渲染内容\n        children[i] = \"\" + child;\n      }\n    });\n    this.count = count;\n  }\n  const el = function () {\n    return new Element(...arguments);\n  };\n\n  // 渲染\n  function renderVDOM(vdom) {\n    let dom = document.createElement(vdom.tag);\n    // 设置属性\n    for (let [prop, value] of Object.entries(vdom.props)) {\n      dom.setAttribute(prop, value);\n    }\n    // dom.append(`children: [${vdom.count}]`);\n    // 渲染\n    for (let child of vdom.children) {\n      // 如果是Element，递归创建dom\n      if (child instanceof Element) dom.append(renderVDOM(child));\n      // 否则是文本，直接插入\n      else dom.append(child);\n    }\n\n    return dom;\n  }\n\n  // 挂载\n  function mount(vdom, element) {\n    element.append(renderVDOM(vdom));\n  }\n  return { mount, renderVDOM, el };\n})();\n"]}